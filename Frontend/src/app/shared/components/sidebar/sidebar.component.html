<aside
  [class.w-64]="isOpen()"
  [class.w-20]="!isOpen()"
  class="h-full bg-gradient-to-br from-teal-600 via-teal-600 to-teal-700 text-white transition-all duration-300 ease-in-out shadow-2xl relative flex flex-col border-r border-teal-500/30"
>
  <!-- Header del Sidebar -->
  <div class="p-5 border-b border-white/10 backdrop-blur-sm bg-white/5">
    <div class="flex items-center justify-between">
      @if (isOpen()) {
        <div class="flex-1">
          <h2 class="text-sm font-bold tracking-wider uppercase text-teal-50">{{ title() }}</h2>
          @if (subtitle()) {
            <p class="text-xs text-teal-200 mt-0.5 font-medium">{{ subtitle() }}</p>
          }
        </div>
      }
      <button
        (click)="onToggle()"
        class="p-2 hover:bg-white/10 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95"
        [class.ml-auto]="isOpen()"
        [attr.aria-label]="isOpen() ? 'Cerrar sidebar' : 'Abrir sidebar'"
      >
        <lucide-icon
          [img]="isOpen() ? chevronIcons.ChevronLeft : chevronIcons.ChevronRight"
          class="w-5 h-5 text-teal-50"
        ></lucide-icon>
      </button>
    </div>
  </div>

  <!-- Lista de Items -->
  <nav class="flex-1 overflow-y-auto py-3 scrollbar-thin scrollbar-thumb-teal-500 scrollbar-track-transparent">
    <ul class="space-y-0.5 px-3">
      @for (item of items(); track item.title) {
        <li>
          <button
            (click)="onSelectItem(item.title)"
            [class]="selectedItemId() === item.title
              ? 'bg-white/20 shadow-lg shadow-teal-900/20 border-l-4 border-white'
              : 'bg-transparent hover:bg-white/10 border-l-4 border-transparent'"
            class="w-full text-left px-3 py-3.5 rounded-r-lg transition-all duration-200 group relative overflow-hidden"
          >
            <!-- Efecto hover -->
            <div class="absolute inset-0 bg-gradient-to-r from-white/0 to-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-200"></div>

            <div class="flex items-center gap-3 relative z-10">
              <div class="flex-shrink-0">
                <div [class]="selectedItemId() === item.title
                  ? 'bg-white/30 text-white'
                  : 'bg-teal-500/30 text-teal-100 group-hover:bg-white/20 group-hover:text-white'"
                  class="p-2 rounded-lg transition-all duration-200"
                >
                  <lucide-icon
                    [img]="icons()[item.icon]"
                    class="w-4 h-4"
                  ></lucide-icon>
                </div>
              </div>
              @if (isOpen()) {
                <div class="flex-1 min-w-0">
                  <div [class]="selectedItemId() === item.title ? 'text-white font-semibold' : 'text-teal-50 font-medium'"
                    class="text-sm leading-tight">
                    {{ item.title }}
                  </div>
                  @if (item.description) {
                    <div class="text-xs text-teal-100/80 mt-0.5 truncate leading-tight">
                      {{ item.description }}
                    </div>
                  }
                </div>
              }
            </div>
          </button>
        </li>
      }
    </ul>
  </nav>
</aside>
