<div class="flex flex-col md:flex-row h-screen bg-gray-50 overflow-hidden">
  <!-- Sidebar Component -->
  <app-sidebar
    [title]="'REPORTES'"
    [subtitle]="'Urgencias'"
    [items]="reportes()"
    [selectedItemId]="reporteSeleccionado()"
    [isOpen]="sidebarAbierto()"
    [icons]="iconos"
    (toggleSidebar)="alternarSidebar()"
    (selectItem)="seleccionarReporte($event)"
  />

  <!-- Contenido Principal -->
  <main class="flex-1 overflow-y-auto bg-gradient-to-br from-gray-50 to-gray-100">
    <div class="p-4 sm:p-6 lg:p-8">
      <!-- Banner de Instrucciones -->
      <app-banner-instrucciones
        [titulo]="'Sistema de Reportería de Urgencias'"
        [descripcion]="'Selecciona un reporte del menú lateral para generar informes de atenciones de urgencia, categorizaciones y gestión hospitalaria'"
        [colorGradient]="'teal'"
        [mostrarBotonMenu]="true"
        [sidebarAbierto]="sidebarAbierto()"
        (toggleSidebar)="alternarSidebar()"
      />

      @if (reporteSeleccionado()) {
        <!-- Área de Contenido -->
        <div class="animate-fade-in">
          <!-- Filtros con componente reutilizable -->
          <app-filtros-reporte
            [categoria]="'Urgencias'"
            [mostrarTipoReporte]="
              reporteSeleccionado() !== 'Urgencias (12-Horas)' &&
              reporteSeleccionado() !== 'Categorizaciones' &&
              reporteSeleccionado() !== 'Urgencias - Hospitalizado'
            "
            [usarSelectorMes]="reporteSeleccionado() === 'Categorizaciones'"
            [mostrarSelectorHospitalizacion]="reporteSeleccionado() === 'Urgencias - Hospitalizado'"
            [cargando]="cargandoReporte()"
            (descargar)="descargarReporte($event)"
            (limpiar)="limpiarFiltros()"
          >
            <span titulo>{{ reporteSeleccionado() }}</span>
          </app-filtros-reporte>
        </div>
      } @else {
        <!-- Estado vacío con componente reutilizable -->
        <app-estado-vacio
          [titulo]="'Bienvenido a Reportes de Urgencia'"
          [descripcion]="'Selecciona un tipo de reporte del menú lateral para comenzar a generar tus informes personalizados'"
          [estadisticas]="estadisticas()"
        >
        </app-estado-vacio>
      }
    </div>
  </main>
</div>

<!-- Modal de Resultado -->
<app-modal-resultado
  [visible]="mostrarModal()"
  [config]="configuracionModal()"
  (cerrar)="mostrarModal.set(false)"
/>
